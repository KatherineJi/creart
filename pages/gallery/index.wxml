<view class="gallery-page">
  <view style="text-align: center; color: #b9b9b9" wx:if="{{pageLoading}}">
    <t-loading theme="circular" size="40rpx" text="加载中..." inherit-color />
  </view>
  <!-- <view class="gallery-page-header">
    <view class="search" bind:tap="navToSearchPage">
      <t-search
        t-class-input="t-search__input"
        t-class-input-container="t-search__input-container"
        placeholder="搜索创意"
        leftIcon=""
        disabled>
        <t-icon slot="left-icon" prefix="wr" name="search" size="40rpx" color="#bbb" />
      </t-search>
    </view>
  </view> -->
  <view class="gallery-page-container" wx:else>
    <t-button class="jump-button" theme="danger" bind:tap="jumpChooseClickHandle" wx:if="{{!isChooseImage}}">制作你的专属贴纸</t-button>
    <!-- <view class="styles-page-tabs">
      <t-tabs
        t-class="t-tabs"
        t-class-active="tabs-external__active"
        t-class-item="tabs-external__item"
        defaultValue="{{0}}"
        value="{{galleryTab}}"
        space-evenly="{{false}}"
        bind:change="tabChangeHandle">
        <t-tab-panel
          wx:for="{{tabList}}"
          wx:for-index="index"
          wx:key="index"
          label="{{item.text}}"
          value="{{item.key}}" />
      </t-tabs>
    </view> -->
    <choose-creation-list
      wx:if="{{isChooseImage}}"
      wr-class="creation-list-container"
      creationList="{{creationList}}"
      chooseList="{{chooseList}}"
      bind:click="creationChooseClickHandle" />
    <creation-list
      wx:else
      wr-class="creation-list-container"
      creationList="{{creationList}}"
      galleryTab="{{galleryTab}}"
      bind:click="creationListClickHandle" />
    <load-more list-is-empty="{{!templateList.length}}" status="{{templateListLoadStatus}}" bind:retry="onReTry" />
    <t-toast id="t-toast" />
  </view>
  <view class="gallery-page-bottom" wx:if="{{isChooseImage}}">
    <view class="bottom-left">
      <view>已选{{chooseList.length}}/{{creationList.length}}</view>
    </view>
    <t-button bind:tap="chooseCancelClickHandle">取消</t-button>
    <t-button theme="danger" bind:tap="printClickHandle" loading="{{printLoading}}">打印</t-button>
  </view>
  <block wx:else>
    <view class="gallery-page-bottom" wx:if="{{notFinishedTaskList.length}}">
      <view class="bottom-left">
        <view>正在生成: {{notFinishedTaskList.length}}个</view>
        <!-- <t-progress percentage="80" label="" /> -->
      </view>
      <t-button theme="danger" bind:tap="tasksJumpClickHandle">查看队列</t-button>
    </view>
    <view class="gallery-page-side" bind:tap="tasksJumpClickHandle" wx:else> 历史队列 </view>
  </block>
</view>